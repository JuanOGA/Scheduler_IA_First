SMARTIMING. Descripci�n, entidades, restricciones, criterios, input, output m�tricas (DERCIOM) �NDICE Descripci�n General Situaci�n Actual (As Is) Visi�n Propuesta (To Be) Entidades Conjuntos Fundamentales Restricciones Restricciones Duras (Obligatorias) Restricciones Blandas (Preferencias Criterios Flexibles) Criterios Optimizaci�n (Objetivos) Datos Entrada (Inputs) Necesarios Resultados Esperados (Outputs) M�tricas Anexo: Formulaci�n Matem�tica del Modelo Horarios Descripci�n General presente documento describe detalle problema generaci�n horarios instituto que imparte Educaci�n Secundaria Obligatoria (ESO), Bachillerato Ciclos Formativos Formaci�n Profesional. sigue formato DERCIOM OGA, abarcando Descripci�n del problema, las Entidades involucradas, las Restricciones duras blandas, los Criterios objetivos optimizaci�n, los Inputs (datos entrada necesarios), los Outputs esperados, finalmente anexo con Modelo matem�tico correspondiente. objetivo incorporar toda informaci�n relevante recopilada las notas reuni�n, con explicaciones narrativas ejemplos ilustrativos cada secci�n, tal como DERCIOM original, evitando omisiones. este instituto, mayor parte actividad lectiva concentra turno ma�ana con clases (cada sesi�n dura hora) recreo minutos media ma�ana (de Excepci�n: existe �nicamente grupo secundaria para adultos horario tarde cuyo horario actualmente elabora manualmente por separado. Por tanto, problema principal enfoca planificaci�n del horario ma�ana para ESO, Bachillerato FP. Este problema horarios combinatorio multi-objetivo catalogado como NP-dif�cil. deben cumplir todas las restricciones legales organizativas (restricciones duras) vez que intenta satisfacer m�ximo las preferencias del profesorado (restricciones blandas) ciertos criterios pedag�gicos (restricciones blandas). Todo ello debe lograr utilizando eficientemente los recursos limitados del centro (tiempo, aulas, personal disponible, etc.). pr�ctica, Jefe Estudios otra persona designada) encargado elaborar estos horarios, respetando normativa educativa aplicable (por ejemplo, l�mites jornada docente) buscando equilibrio entre las necesidades del centro las peticiones individuales. Antes abordar formalizaci�n del problema, conviene describir c�mo genera actualmente horario c�mo proyecta mejorar proceso futuro continuaci�n, detalla primero situaci�n actual centro seguidamente visi�n propuesta para optimizar carga datos generaci�n horarios. Situaci�n Actual (As situaci�n actual, elaboraci�n del horario centro educativo requiere una intervenci�n manual intensiva por parte Jefatura Estudios los responsables cada departamento did�ctico. Antes que herramienta inform�tica pueda realizar cualquier c�lculo, necesario introducir manualmente toda informaci�n acad�mica, organizativa recursos humanos que define funcionamiento del centro. Este proceso comienza con recopilaci�n carga los datos estructurales b�sicos que incluyen: listado completo del profesorado con dedicaci�n horaria posibles reducciones (por edad, tutor�a, cargos, etc.). conjunto cursos grupos que requiere planificaci�n, diferenciando niveles ordinarios, programas diversificaci�n, itinerarios Bachillerato Ciclos Formativos. cat�logo asignaturas ofertadas incluyendo troncales, optativas, �mbitos m�dulos FP, cada una con carga horaria semanal. asignaci�n materias profesores grupos decidida previamente por cada departamento, considerada cerrada inamovible por sistema. relaci�n aulas espacios disponibles incluyendo tanto aulas ordinarias como espacios espec�ficos (laboratorios, gimnasio, aula m�sica, etc.), junto con sus restricciones uso (por ejemplo, disponibilidad ciertas franjas por limpieza actos). esto a�aden las ocupaciones lectivas del profesorado, tareas deben figurar horario restan disponibilidad para otras actividades, por que consideran eventos planificaci�n mismo nivel que las clases: Guardias pasillo con demanda fija por franja. Guardia recreo que implica cobertura simult�nea docentes una franja lectiva intermedia. Guardias convivencia Reuniones semanales obligatorias por ejemplo, reuni�n tutores otras sesiones coordinaci�n. Adem�s, profesorado indica sus preferencias horarias mediante formularios recogidos previamente por equipo directivo. Estas preferencias pueden clasificarse tres niveles seg�n importancia: Duras por conciliaci�n otras causas justificadas, consideran obligado cumplimiento. Medias deseables, pero cr�ticas. Blandas sin justificaci�n expl�cita, pero valoradas posible atenderlas. Todas estas variables deben introducirse manualmente herramienta, que existe sistema autom�tico importaci�n desde plataformas administrativas como S�neca. Esta carga implica conversi�n formularios f�sicos, hojas Excel acuerdos internos una estructura param�trica que entienda software, que introduce elevado riesgo error humano dificultad para validar incoherencias, coste operativo alto tiempo esfuerzo Una vez introducidos todos los datos, herramienta comienza proceso planificaci�n dos fases. primera, genera una soluci�n factible inicial pocos minutos. Esta soluci�n cumple todas las restricciones duras (ausencia solapes recursos, cobertura completa sesiones, respeto l�mites horarios del profesorado, paralelismo optativas, disponibilidad aulas�) adem�s impone criterio cuantitativo sobre las preferencias del profesorado: soluci�n inicial s�lo aceptada logra satisfacer porcentaje m�nimo del conjunto preferencias especialmente aquellas marcadas como duras justificadas. As�, sistema considera factible cualquier soluci�n que simplemente cumpla las restricciones t�cnicas, sino que exige nivel base calidad subjetiva antes pasar siguiente fase. Una vez alcanzado ese umbral m�nimo preferencias, algoritmo considera �cerrado� cumplimiento preferencias centra exclusivamente optimizaci�n los huecos jornada del profesorado. Esta optimizaci�n iterativa: exploran movimientos que reduzcan n�mero total ventanas libres, realizando hasta intentos por soluci�n; detecta mejora ese bloque iteraciones, sistema genera una nueva soluci�n factible completamente distinta (respetando mismo umbral m�nimo preferencias), repite ciclo. sistema puede estar funcionando durante varias horas incluso toda noche para explorar m�ltiples soluciones. Finalmente, entre las distintas soluciones v�lidas obtenidas, selecciona que presenta menor media huecos por docente criterio que convertido est�ndar para validaci�n calidad del horario. pr�ctica, los mejores resultados obtenidos sit�an torno huecos semanales por profesor cifra considerada razonable por equipo directivo del centro. Visi�n Propuesta Be) escenario futuro, busca agilizar carga datos mejorar integraci�n con fuentes existentes, adem�s mantener optimizaci�n automatizada los horarios. flujo trabajo propuesto para herramienta ser�a siguiente: Carga automatizada datos maestros por Jefatura Estudios: lugar introducir mano todos los datos base (profesorado, cursos, grupos, asignaturas, aulas tareas lectivas obligatorias como tutor�as guardias), jefe estudios podr�a importarlos mediante ficheros procedentes sistemas oficiales. Por ejemplo, aplicaci�n podr�a obtener autom�ticamente cat�logo oficial asignaturas (con sus c�digos, descripciones horas) desde Consejer�a Educaci�n, cargar lista profesores desde S�neca (sistema gesti�n centros) con sus datos relevantes. Esto ahorrar�a tiempo minimizar�a errores, permitiendo simplemente seleccionar herramienta qu� asignaturas imparten qu� docentes est�n disponibles centro. Asignaci�n materias por parte los departamentos: Cada departamento did�ctico introducir�a qu� profesores van impartir las distintas asignaturas qu� grupos alumnos. Idealmente, herramienta ofrecer�a una interfaz plantillas para rellenar esta asignaci�n, modo que informaci�n qu� profesor imparte cada materia/grupo incorpore f�cilmente (incluso podr�a extraerse S�neca all� constan los profesores asignados cada materia/grupo). esta forma evitar�a tener que cargar manualmente uno por uno los emparejamientos docentes con asignaturas. Definici�n asignaturas grupos paralelos: Durante carga datos, se�alar�an aquellas asignaturas los grupos correspondientes) que deben impartirse paralelo decir, simult�neamente horario. Esto cubre casos como materias optativas que ofertan misma hora para distintos subgrupos, modo que herramienta sepa que esas clases deben coincidir temporalmente. Registro preferencias del profesorado: nueva herramienta, cada docente podr�a introducir directamente sus preferencias horarias m�dulo espec�fico, lugar rellenar formularios papel que luego haya que traducir manualmente. As�, las disponibilidades restricciones personales los profesores quedar�an registradas autom�ticamente sistema, clasificadas por nivel preferencia (duras/obligatorias, medias/recomendables blandas/opcionales), listas para ser consideradas durante generaci�n del horario. M�dulo opcional detecci�n conflictos: Antes lanzar c�lculo del horario, Jefatura Estudios podr�a contar con una funcionalidad b�squeda conflictos depuraci�n datos. Este m�dulo revisar�a informaci�n cargada (asignaciones, disponibilidades, etc.) busca incoherencias solapamientos imposibles, alertando errores entrada que deban corregirse antes optimizaci�n. Optimizaci�n autom�tica del horario: Con todos los datos validados, software generar�a horario optimizado. igual que proceso actual, algoritmo debe cumplir todas las restricciones duras (factibilidad absoluta) luego intentar satisfacer m�ximo posible restricciones blandas. diferencia que ahora sistema podr�a aprovechar mejor las preferencias cargadas los datos importados para optimizar. criterio central calidad seguir�a siendo minimizar los huecos del profesorado maximizar sus preferencias junto con otros posibles criterios (p. ej., repartir equilibradamente las sesiones, evitar �ltimas horas para ciertas materias, etc., seg�n las preferencias ingresadas). resumen, herramienta buscar�a autom�ticamente horario que solo sea factible, sino tambi�n alta calidad, reduciendo m�nimo los periodos libres respetando m�ximo las preferencias. Visualizaci�n exportaci�n resultados: Por �ltimo, horario resultante presentar�a forma visual intuitiva aplicaci�n, permitiendo revisar distribuci�n clases guardias. Adem�s, podr�a exportar horario final formatos �tiles (por ejemplo, PDF misma plataforma S�neca) para difusi�n consulta por parte del equipo directivo, profesores resto comunidad educativa. Esta visi�n pretende reducir m�nimo trabajo manual las posibilidades error preparaci�n datos, aprovechando fuentes existentes automatizando pasos previos. Con ello, Jefatura Estudios podr�a centrarse m�s ajustar criterios pedag�gicos organizativos, dejando software pesada tarea combinatoria obtener mejor horario posible cumpliendo todas las condiciones. Las funcionalidades propuestas (importaci�n datos, gesti�n preferencias l�nea, detecci�n conflictos) complementar�an motor optimizaci�n para lograr proceso integral m�s eficiente desde carga inicial informaci�n hasta generaci�n entrega del horario final. Entidades Conjuntos Fundamentales este apartado describen las entidades principales que intervienen elaboraci�n del horario, junto con significado los atributos caracter�sticas relevantes cada una. Estas entidades definen conjunto datos sobre que opera modelo horarios del instituto: Estructura Temporal (Slots Tiempo): unidad temporal b�sica periodo lectivo hora horario diario matutino consta una serie periodos (sesiones) cada d�a, normalmente sesiones entre las las con recreo minutos mitad jornada. Todos los d�as lectivos Lunes Viernes comparten esta misma estructura periodos. Existe una diferenciaci�n franjas horarias: por ejemplo, primera hora del d�a �ltima hora (la sexta, terminando consideran franjas extremas jornada. este centro solo planifica turno ma�ana, por que manejan turnos tarde salvo caso aislado del grupo adultos (que gestiona aparte). otros centros con jornada partida (ma�ana tarde), habr�a que considerar tambi�n los turnos asegurar debido descanso entre jornadas (12h entre �ltima clase impartida por profesor d�a primera clase del d�a siguiente), pero aqu� nos centraremos estructura ma�ana �nica. Cada periodo lectivo puede albergar clases, guardias otras actividades programadas. Ense�anzas, Cursos Itinerarios: instituto abarca varias etapas educativas. ESO (Educaci�n Secundaria Obligatoria) Bachillerato las ense�anzas organizan por curso (por ejemplo, ESO, ESO, Bachillerato, Bachillerato) Bachillerato, adem�s diferencian itinerarios modalidades (por ejemplo, Ciencias vs. Humanidades). Bachillerato t�picamente hay grupos separados por modalidad, pero algunos casos pueden existir grupos mixtos donde conviven estudiantes ambas modalidades las asignaturas comunes. Los Ciclos Formativos constituyen otra ense�anza con propia organizaci�n m�dulos profesionales por curso (p. ej., Administraci�n). Cada curso tiene curr�culo que determina conjunto asignaturas (materias) obligatorias comunes optativas. Las optativas ofrecen cierta flexibilidad: Bachillerato, por ejemplo, hay asignaturas optativas espec�ficas cada itinerario (como Dibujo T�cnico horas semanales para Ciencias, Literatura Universal Humanidades) otras optativas comunes ambos (p. ej., Antropolog�a semanales). estos casos, alumnado puede elegir entre cursar una optativa dos optativas (equivalentes). Esto significa que, para hacer posible elecci�n, las optativas deben impartirse paralelo (simult�neamente) las dos optativas correspondientes: decir, durante mismo bloque horario que grupo alumnos est� asignatura 4h, resto estar� repartido dos asignaturas cada una. ejemplo concreto: grupo mixto Bachillerato, alumno puede escoger Dibujo T�cnico (4h) bien Antropolog�a (2h) Psicolog�a (2h) horario reflejar� que Dibujo T�cnico imparte simult�neamente Antropolog�a Psicolog�a modo que todos los estudiantes tengan clase ese intervalo, cada uno optativa que corresponde. Esta configuraci�n implica manejar subgrupos optativos que desdoblan partir del grupo base para esas horas. Grupos Subgrupos Alumnos: grupo refiere una clase secci�n alumnos que comparten mayor�a sus asignaturas. Por ejemplo, "1�A ESO" grupo ESO. Cada grupo tiene tama�o (n�mero alumnos) est� asociado curso ense�anza (p. ej., ESO, Bachillerato Ciencias, etc.). algunos casos forman subgrupos dentro grupo para ciertas actividades: por ejemplo, los mencionados subgrupos optativas (mixtos entre grupos) donde alumnos distintos grupos/clases reagrupan seg�n optativa elegida. caso particular ESO programa Diversificaci�n Curricular algunos alumnos con necesidades educativas espec�ficas siguen curr�culo adaptado por �mbitos (�mbito cient�fico, �mbito socioling��stico, etc.) lugar asignaturas independientes. Estos estudiantes pertenecen administrativamente grupos ordinarios (ej. 3�B ESO), pero salen grupo ciertas franjas para recibir clases �mbito por separado. Operativamente herramienta inform�tica crea 3�B ESO Diversificaci�n que comparte horario con 3�B ESO algunas asignaturas. Como consecuencia, las asignaturas regulares del grupo deben impartirse paralelo esas clases �mbitos diversificaci�n, modo que mientras los alumnos diversificaci�n est�n con profesor �mbito, sus compa�eros reciben clase otra materia que requiera presencia los alumnos diversificaci�n As� nadie queda sin clase evitan solapamientos indebidos. resumen, los grupos pueden desagruparse temporalmente sea por optativas programas especiales, generando subgrupos simult�neos que horario debe contemplar. Materias (Asignaturas) �mbitos: Cada materia tiene asociadas n�mero sesiones semanales que deben programarse horario cada grupo que cursa (por curr�culo oficial planificaci�n del centro). Por ejemplo, una asignatura puede tener horas semanales (lo usual troncales Bachillerato), que t�picamente distribuye como hora por d�a d�as distintos semana. com�n encontrar m�dulos (asignaturas) con horas semanales que implica que d�as hay que colocar m�ltiples sesiones por d�a sesiones dobles para cubrir total. Por ejemplo, m�dulo podr�a impartirse d�as haciendo dos d�as con sesi�n doble horas seguidas) tres d�as con sesi�n simple, sumando ESO Bachillerato cambio, norma general tener dos horas consecutivas misma asignatura para mismo grupo (por criterios pedag�gicos atenci�n del alumnado), por que las sesiones deben espaciarse d�as distintos. Excepciones: FP, como mencion�, permiten incluso recomiendan dobles sesiones seguidas misma materia (especialmente cuando n�mero horas semanales excede n�mero d�as). Tambi�n diversificaci�n curricular, trabajar por �mbitos m�s amplios, puede permitir que los alumnos diversificaci�n tengan varias horas del mismo �mbito seguidas. Adem�s duraci�n n�mero sesiones, algunas materias pueden tener requisitos especiales: por ejemplo, pueden requerir ciertos espacios (laboratorios, talleres, gimnasio) preferir determinadas franjas horarias. este centro particular, se�ala que podr�a haber asignaturas que conviene planificar antes despu�s del recreo por naturaleza. Por ejemplo, podr�a interesar que Educaci�n F�sica imparta justo tras recreo para aprovechar que los alumnos han descansado, rev�s, evitar que Matem�ticas coloque �ltima hora del d�a porque nivel atenci�n menor (esto �ltimo trata como preferencia blanda). Todas las materias est�n asociadas departamentos did�cticos que son los responsables asignar profesores las materias grupos. Bloques: Requisitos simultaneidad (paralelismos obligatorios): Algunas asignaturas deben impartirse mismo tiempo que otras, debido los desdobles optativas Esto implica restricciones sincronizaci�n: las clases que conforman bloque optativo han programarse paralelo, ocupando exactamente misma franja horaria, modo que los alumnos repartan entre ellas sin conflicto. Ejemplos: Caso Como explic�, una optativa semanales tiene que coincidir temporalmente con dos optativas cada una. Para modelo, esto puede significar que asignatura (digamos, Dibujo T�cnico) dividir� sub-eventos cada uno, cada uno esos sub-eventos vincular� coincidir con las sesiones las otras dos asignaturas (Antropolog�a Psicolog�a). a�ade adem�s una restricci�n para que los dos sub-eventos asignatura coincidan entre (obviamente, una misma asignatura dividida debe solaparse consigo misma). Caso Otro ejemplo diversificaci�n: las clases �mbito diversificaci�n distintos grupos (ej. 3�A 3�B diversificaci�n) pueden juntarse mismo grupo �mbito, que obliga que, simult�neamente, 3�A 3�B est�n haciendo algo diferente (otra materia) con otros profesores. Esa otra materia que reciben los no-diversificados 3�A 3�B tiene que ocurrir vez que �mbito para que los alumnos que salieron pierdan nada fundamental visto rev�s, para que haya alumnos sin clase. Caso Los bloques m�s comunes ocurren cuando optativas misma duraci�n tienen que coincidir mismo horario. Ejemplo: las horas franc�s ESO tienen que coincidir con las horas franc�s ESO con las horas optativa TIC ESO ESO similar caso pero ambas optativas tienen misma duraci�n semanal. general, para cada conjunto asignaturas definidas como paralelas (optativas cruzadas, desdobles conjuntos, religi�n/valores, etc.), horario debe respetar que impartan misma franja. Esto tambi�n implica que dichas asignaturas paralelas deben ser asignadas profesores diferentes departamento asignar profesores tiene cuenta: por ejemplo, dos optativas van paralelo, asignan ambas mismo docente porque ser�a imposible impartirlas simult�neamente. modelo as� asume que eventos paralelos comparten profesor grupo, solo comparten sincron�a tiempo. Profesorado: instituto cuenta con conjunto docentes asignados departamentos con habilitaci�n para impartir ciertas materias. Cada profesor tiene unas cargas horarias funciones que condicionan horario. dedicaci�n est�ndar docente tiempo completo son horas obligada permanencia centro semana. Estas horas semanales desglosan, por normativa regional, aproximadamente horas lectivas (impartiendo clase efectivamente grupos alumnos) horas lectivas obligada presencia (que incluyen guardias, reuniones, tutor�as, etc.). Las horas lectivas son deseable, pero existe rango legal: cada profesor debe tener entre horas lectivas por semana ideal solo casos necesarios (por ejemplo, falta profesorado para cubrir todas las clases) asignan hasta horas clase docente. alguien sube carga lectiva por encima reducen proporcionalmente las otras funciones para que exceda las totales (por ejemplo, con clases, tendr�a solo horas otras tareas). Existen situaciones especiales que reducen carga lectiva ciertos profesores: por ejemplo, los tutores grupo dedican hora lectiva tutor�a con sus alumnos (que debe figurar horario) m�s otra hora complementaria tutor�a para tareas administrativas que aparece horario. pr�ctica, tutor suele impartir horas materia hora tutor�a grupo hora gesti�n tutor�a (oculta), sumando horas lectivas. Tambi�n, los jefes departamento tienen una reducci�n horas lectivas semanales por sus labores coordinaci�n (es decir, imparten horas clase lugar Igualmente, los docentes mayores a�os disfrutan una reducci�n horas lectivas por razones edad, puede haber otras reducciones otorgadas docentes con cargos proyectos (coordinadores, responsables programas, etc.). Todas estas reducciones tienen cuenta hora asignar cu�ntas horas clase efectivas imparte cada profesor. Antes elaborar horario, direcci�n asigna cada departamento n�mero grupos horas que debe cubrir, departamento distribuye las asignaturas entre sus profesores procurando que ninguno quede sobrecargado por debajo las horas lectivas est�ndar. Esta asignaci�n previa (qu� profesor imparte qu� materia cada grupo) considera fija durante confecci�n del horario decir, horario respeta siempre asignaci�n profesores materias decidida. Por normativa, puede asignar dos profesores distintos misma materia mismo grupo (una clase tiene �nico docente titular), as� que esa regla est� impl�citamente garantizada por asignaci�n departamental inicial. Adem�s sus clases, los profesores participan reuniones realizan guardias (descritas m�s abajo), que tambi�n ocupan huecos horario individual. Aulas Recursos: centro dispone conjunto aulas otros espacios educativos (laboratorios, talleres, gimnasio, salas espec�ficas). Cada clase/grupo tiene usualmente aula referencia, pero los profesores pueden mover los alumnos diferentes espacios seg�n asignatura (p. ej., laboratorio Qu�mica, aula M�sica, etc., cuando corresponda). general, cada aula solo puede usarse para una actividad vez (no pueden programarse dos clases distintas mismo aula periodo). Sin embargo, hay excepciones puntuales por ejemplo, gimnasio otros espacios muy amplios veces pueden compartir dos grupos simult�neamente (por ejemplo, dos grupos haciendo Educaci�n F�sica juntos con dos profesores distintos mitades del polideportivo). Estas excepciones permiten cuando espacio admite, aunque algunos docentes pueden preferir compartir espacio con otro grupo (lo que manejar�a como una preferencia blanda del profesor departamento). centro tuviera varios edificios sedes uso aulas implicar�a tambi�n considerar tiempo desplazamiento profesores entre edificios. nuestro caso, todo ocurre mismo edificio as� que hay largos desplazamientos, pero otros centros introduce noci�n compatibilidad espacio-tiempo: tratar agrupar las clases profesor mismo edificio tiene que cambiar edificio, asegurar periodo libre (guardia hueco) para darle tiempo moverse. Incluso podr�a establecer una regla que, tras impartir una clase edificio concreto, solo pueda programarse continuaci�n una guardia otra clase para facilitar ese cambio. este instituto espec�fico necesario debido unicidad del edificio principal, pero conviene mencionarlo como consideraci�n general herramienta. Guardias (Servicios Vigilancia): Las guardias son periodos los que ciertos profesores, vez dar clase, est�n asignados vigilancia atenci�n incidencias del centro. Hay distintos tipos guardia: t�picamente guardias pasillo (profesores disponibles para sustituir ausencias atender emergencias durante las clases, vigilando pasillos), guardias recreo (durante descanso, vigilando patios zonas comunes) guardias convivencia otros servicios (seg�n las necesidades del centro). Las guardias cuentan dentro las horas semanales trabajo profesor deben aparecer planificadas horario individual. este instituto, por normativa tama�o, determinado que cada hora clase debe haber menos profesores guardia pasillo disponibles Durante recreo exige m�nimo profesores guardia vigilando. pr�ctica, centro optado por asignar docentes guardia cada recreo para mayor seguridad, cubrir las guardias pasillo con profesores guardia primera �ltima hora resto las horas intermedias Cada profesor tiene n�mero determinado guardias semanales que debe cumplir, distribuidas entre pasillo, recreo, etc., funci�n horario disponible rotaci�n equitativa que establezca centro (por ejemplo, profesor podr�a tener guardia recreo pasillo semana asignadas). Estos n�meros son fijados por Jefatura toman como datos entrada (p. ej., "cada profesor har� guardias pasillo recreo por semana"). hora elaborar horario, por tanto, las guardias tratan como "actividades" que hay que asignar profesores libres determinados periodos para alcanzar m�nimo personal vigilancia requerido cada franja. Son, efecto, eventos que compiten con las clases por los slots libres los docentes, pero con diferencia que profesor guardia tiene grupo asignado ocupa aula, sino que est� guardia general. Reuniones Otras Actividades Fijas: Adem�s clases guardias, horario semanal incluye algunas reuniones del profesorado que deben programarse hueco com�n para todos los implicados. este instituto, destaca reuni�n tutores semanalmente, todos los tutores grupo re�nen con Jefatura Estudios Departamento Orientaci�n para coordinar aspectos tutor�a seguimiento del alumnado. Esta reuni�n tutores, orientaci�n equipo directivo debe figurar horario general decir, todos esos profesores (los tutores, orientador jefatura) necesitan tener libre una hora com�n semana para asistir dicha reuni�n. Dado que participan muchos docentes, una restricci�n global importante: implica que, ese periodo reuni�n, ninguno esos profesores puede tener clase asignada. Por tanto, sus grupos ese periodo deber�n estar atendidos por otros. partir estas entidades derivan las "lecciones" eventos que deben ubicarse calendario semanal: cada combinaci�n grupo-materia que requiere sesiones semanales conjunto eventos programar, cada guardia profesor otro evento que asignar, as� sucesivamente. siguiente paso detallar las restricciones que rigen c�mo pueden ubicar estos eventos horario. Restricciones [IM1] secci�n Restricciones describe las condiciones que rigen construcci�n horario factible, abarcando tanto requisitos ineludibles como preferencias optimizar. este modelo distingue entre restricciones �duras� restricciones �blandas�. Las primeras abarcan condiciones obligatorias derivadas normativa, estructura acad�mica limitaciones t�cnicas, mientras que las segundas corresponden criterios calidad preferencias cuya satisfacci�n mejora horario. separaci�n estos dos tipos restricciones fundamental para garantizar viabilidad calidad del modelo. Las restricciones duras aseguran cumplimiento todos los requisitos cr�ticos que hacen v�lido horario (por ejemplo, normativas legales disponibilidad recursos), mientras que las restricciones blandas integran funci�n objetivo como penalizaciones incentivos. Esto permite evaluar optimizar calidad del horario sin descartar soluciones viables por incumplir preferencias secundarias. Restricciones Duras (Obligatorias) Las restricciones duras son las condiciones que deben cumplirse cualquier horario v�lido. Provienen normativa educativa, l�mites f�sicos l�gicos, decisiones organizativas innegociables. Violar cualquiera estas restricciones invalida horario. continuaci�n, enumeran las principales restricciones duras aplicables, explicando motivo cada una proporcionando ejemplos: Cobertura sesiones obligatorias: Todas las sesiones lectivas exigidas por curr�culo deben ser programadas decir, cada asignatura cada grupo tiene que aparecer horario n�mero veces por semana que corresponda. Ejemplo: 3�ESO debe tener clases Matem�ticas semana, horario 3�A aparecer�n exactamente sesiones Matem�ticas distintos d�as. Matem�ticamente: cada "lecci�n" (evento clase grupo-materia) asignarse exactamente periodo semana, puede quedar sin ubicar duplicarse. Desde punto vista programaci�n matem�tica habr�a que incluir dos conjuntos restricciones: suma todas las sesiones programadas semana tiene que ser exactamente igual valor suma las sesiones programadas cada uno los d�as tiene que ser menor igual que otro par�metro. Bloques simult�neos para mismo grupo: grupo alumnos puede tener dos bloques misma vez Dicho otro modo, cada periodo del horario, cada grupo tendr� asignado solo bloque. bloque contiene una asignatura troncal significar� que todos los alumnos del grupo tienen vez misma asignatura. bloque est� formado por varias optativas significar� que grupo desdobla cada alumno asistir� optativa correspondiente aula. solapamiento profesor: docente puede estar dos lugares vez impartiendo clase. Por tanto, mismo profesor puede tener asignadas dos sesiones simult�neas. Ejemplo: profesora Mar�a puede estar dando Matem�ticas 2�A vez Matem�ticas 3�B durante hora del martes; Mar�a imparte ambas asignaturas, deber�n ubicarse horas distintas. Esto aplica tanto clases con alumnos como reuniones guardias: profesor debe asistir reuni�n tutores, puede programar una clase ese mismo periodo. Capacidad del gimnasio: gimnasio podr�n coincidir n�mero ilimitado grupos misma hora, hay una capacidad m�xima. Asignaci�n profesor-materia fija: Como mencion�, cada clase (grupo-materia) tiene profesor asignado antemano por departamento, esa asignaci�n fija planificaci�n horaria. permiten dos profesores para misma materia grupo por normativa, que significa que, una clase 2�ESO Geograf�a imparte profesora Ana, todas las sesiones Geograf�a 2�ESO semana deber�n figurar con Ana como docente. horario debe respetar esta relaci�n, puede cambiar profesor mitad semana para misma asignatura. hace falta incluir est� restricci�n modelo, esto est� garantizado porque cada evento �grupo-materia� viene asociado docente concreto. L�mite horas lectivas por profesor (carga semanal): Cada docente tiempo completo debe tener entre horas clase semana nunca menos m�s Este rango legal obligatorio. hace falta incluir est� restricci�n modelo, esto siempre respeta que los profesores tienen asignadas sus asignaturas antes realizar horario Distribuci�n diaria m�xima profesor: Ning�n profesor puede impartir m�s horas clase mismo d�a acorde jornada lectiva m�xima por docente. Dado que horario ma�ana tiene periodos, eso significa que cada docente tiene menos periodo sin clases d�a (que puede ser guardia, tutor�a, reuni�n, hueco indeseable hueco inicio principio final jornada indicando que profesor entrar� despu�s saldr� antes, que que m�s desean). Distribuci�n diaria m�nima profesor: general procura que cada docente tenga menos n�mero parametrizado horas clase cada d�a que viene centro (para mayor�a los profesores horas d�a). decir, evita que profesor venga d�a �nicamente para dar clase suelta. Esta restricci�n depende del profesor, que podr�a haber excepciones, por ejemplo, profesor con poca carga lectiva trabaja solo uno dos d�as con pocas horas. Ejemplo: profesor solo imparte d�as semana, concentrar� horario para hacerle d�a por sola clase aislada; lugar eso, podr�a poner clases d�as dejarlo libre cuarto d�a, cual implica que m�nimo horas clase d�a Secuenciaci�n clases prohibidas requeridas: Hay restricciones temporales sobre c�mo colocan las sesiones una misma materia durante semana. ESO/Bachillerato permite que una materia tenga sesiones mismo d�a con mismo grupo. Por tanto, horario debe evitar asignar, por ejemplo, Lengua castellana 2�ESO hora del lunes consecutivamente. Ciclos Formativos cambio, permiten sesiones dobles (dos periodos seguidos misma asignatura con mismo grupo) hecho algunos m�dulos largos necesario para alcanzar las horas semanales. As� que, para FP, aplica prohibici�n; m�s, podr�a haber una restricci�n obligatoria tener ciertas dobles sesiones. Ejemplo: m�dulo 8h/semana, necesariamente dos los d�as habr� seguidas (porque con d�as pueden distribuir horas sin doblar menos d�as). modelo debe manejar estas diferencias: esencialmente, cada materia/grupo viene con indicaci�n admite requiere dobles sesiones. Nota: diversificaci�n curricular, permite que mismo �mbito ocupe varias horas seguidas para esos alumnos, que funcionan distinto asignaturas independientes. [IM2] Descanso obligatorio entre jornadas (caso turno partido): Aunque este centro casi todos los docentes trabajan solo ma�ana, centros con turnos ma�ana tarde exige que haya menos horas descanso entre que profesor termina �ltima clase d�a comienza primera del d�a siguiente. t�rminos pr�cticos, docente trabaja por tarde d�a (salida las puede poner primera hora ma�ana siguiente porque apenas habr�an pasado horas. Esta restricci�n asegura m�nimo descanso horas. nuestro instituto, solo afectar�a alg�n profesor diera clase grupo nocturno adultos; ser as�, esa persona deber�a tener primera hora lectiva d�a siguiente. Como pol�tica, los profesores ese grupo adultos probablemente tengan clase primera hora ma�ana siguiente, directamente sean distintos docentes involucrados turno ma�ana, para evitar conflictos. Nota Inicialmente est� restricci�n tener cuenta. Cobertura guardias [IM3] m�nimos vigilancia: Como explic� Entidades, cada periodo del horario necesita cierto n�mero profesores guardia (especialmente para pasillos recreos). Esto traduce restricciones duras cobertura m�nima guardias cada hora clase debe haber menos docentes asignados guardia pasillo horas normales, aunque primera �ltima hora conforman con nuestro caso). Cada recreo debe haber menos (el centro pone profesores guardia patio. Por tanto, modelo debe garantizar que, para cada periodo, cantidad profesores asignados guardia ese periodo m�nimo requerido Estas guardias salen los profesores que tengan clase ese momento. Adem�s, cada profesor tiene n�mero predeterminado guardias semanales que debe cumplir, por que tambi�n hay una restricci�n por profesor: asignarle exactamente ese n�mero guardias (desglosadas por tipo requiere) largo semana. Ejemplo: profesor Juan han asignado guardias pasillo recreo por semana, horario final debe mostrar Juan efectivamente horas columna "guardia pasillo" "guardia recreo", m�s menos. simult�neamente, cada hora lunes viernes hora deben aparecer profesores guardia, etc. Asistencia reuniones obligatorias: Para cualquier reuni�n evento fijo colectivo que direcci�n marque dentro del horario, debe garantizarse que todos los participantes est�n libres esa franja nuestro caso, reuni�n tutores semanal implica que los tutores orientaci�n jefatura est�n disponibles. Eso establece una restricci�n para que asignen clases guardias este conjunto profesores alg�n periodo, para as� poder llevar cabo reuni�n. Conciliaci�n laboral: Los profesores con derecho conciliaci�n familiar (p. ej., con hijos menores a�os) tienen por normativa sus preferencias horario garantizadas alguien solicita determinado turno por cuidado hijos, esa preferencia convierte facto restricci�n dura (se debe cumplir). Restricciones Blandas (Preferencias Criterios Flexibles) Las restricciones blandas son criterios deseables, preferencias lineamientos pedag�gicos que tienen car�cter obligatorio absoluto pero cuya satisfacci�n mejora calidad del horario. Incumplir una restricci�n blanda invalida horario, pero genera una cierta penalizaci�n insatisfacci�n. objetivo cumplir mayor n�mero posible ellas caso conflicto, priorizar las m�s importantes. esta secci�n listan las principales restricciones blandas que maneja instituto, junto con justificaci�n ejemplos: Preferencias horarias del profesorado: Cada docente suele indicar franjas preferidas evitar horario. muy com�n que expresen deseos como "no dar clase primera hora" "no tener �ltima hora los viernes", "compactar horario para salir temprano alg�n d�a". Estas preferencias recaban principio curso. centro intenta respetarlas m�ximo pero todas podr�n satisfacerse simult�neamente por ejemplo, imposible que todos los profesores tengan libre �ltima hora del viernes, alguien tendr� que ceder dar clase ese periodo. Por ello, persona que elabora horario debe decidir qu� preferencias consideran duras (innegociables) cu�les blandas (se satisfar�n solo posible), incluso asignar distintos niveles prioridad pr�ctica, muchos horarios distinguen entre preferencias fuertes medias suaves del profesor. ejemplo preferencia fuerte podr�a ser "no puedo trabajar los mi�rcoles por tarde porque curso estudios, por conciliaci�n familiar". ejemplo preferencia media: "preferir�a tener clase hora los lunes". suave: "me gustar�a tener nunca clase �ltima hora". horario final procurar� cumplir primero las fuertes todos los docentes, luego las medias medida posible, finalmente las suaves queda margen. Cabe resaltar que los profesores generalmente prefieren tener alg�n hueco libre jornada antes que ver ignoradas sus peticiones personales. decir, docente suele tolerar mejor tener, por ejemplo, una hora muerta mitad ma�ana que asignen clase una hora que hab�a pedido libre por otra raz�n. resumen, las preferencias del profesorado son conjunto restricciones blandas muy importantes que algoritmo debe tener cuenta, minimizando las violaciones (asignar horas deseadas) posiblemente distribuy�ndolas equitativamente cuando son inevitables (no siempre mencionado expl�citamente, pero impl�cito justicia organizativa). Minimizar huecos horario los profesores: hueco periodo libre entre dos clases mismo d�a profesor. Aunque los huecos pueden servir para descansar preparar clases, exceso son considerados algo negativo porque prolongan jornada in�tilmente. criterio general minimizar n�mero total huecos horario los docentes, as� como minimizar n�mero profesores que tengan huecos m�ximo n�mero huecos que sufra mismo profesor. Muchas veces mide media huecos por profesor intenta que sea m�s baja posible. buen horario suele lograr alrededor huecos media por profesor, cual implica que algunos tendr�n unos pocos quiz�s pudiendo darse alg�n caso aislado huecos. Evitar huecos significa, por lado, compactar las horas semanales obligada presencia cada profesor m�ximo. Esta preferencia compactaci�n est� muy extendida: "prefiero tener seguidas luego irme, tener clases, hueco luego otra clase" modelo penalizar� cada hueco objetivo para que, puede eliminarse reorganizando, haga. Ejemplo: profesor Luis tiene clase hora martes, tiene dos huecos libres). Quiz� sea posible mover clase para que quede seguidas luego pueda marchar casa, evitando esos huecos muertos. Esa mejora ser�a valorada positivamente. Dos horas hueco seguidas contabiliza como dos huecos. Escalonamiento: Desde punto vista los alumnos pedagog�a, considera beneficioso dispersar las sesiones una asignatura largo semana evitando concentrarlas d�as contiguos. Esto ayuda reforzar aprendizaje mediante repasos frecuentes saturar estudiante con misma materia golpe. Por tanto, prefiere tener misma asignatura dos d�as consecutivos (salvo que, por tener 5h/semana, sea inevitable que ocupen casi todos los d�as). Ejemplo: supongamos que Biolog�a 3�B tiene sesiones semanales. Una distribuci�n lunes-martes-mi�rcoles-jueves ser�a sub�ptima d�as seguidos); ser�a preferible lunes-martes-jueves-viernes (aqu� hay mi�rcoles descanso medio). algoritmo valorar� m�s positivamente segunda distribuci�n. Criterios pedag�gicos: Tambi�n prefiere que caiga siempre misma asignatura �ltima hora del d�a Matem�ticas 4�A est� siempre hora, los alumnos siempre reciben cansados; ser�a mejor alternar que �ltima hora unas veces tengan Matem�ticas, otras Historia, etc. Estas consideraciones implementan como restricciones blandas espec�ficas, sea mediante reglas (por ejemplo, "no �ltima hora para matem�ticas") penalizaciones ("penalizar misma materia aparece d�as consecutivos"). Preferencias espacios: Aunque fue muy destacado reuni�n, hay preferencias personales cuanto los espacios, por ejemplo, profesores que prefieren compartir gimnasio con otro grupo, as� que, posible horario permite, evitar� colocar dos grupos juntos gimnasio cuando alguno los profesores involucrados tenga esa preferencia. siempre podr�, veces por falta horas libres gimnasio debe compartirse, pero intentar� acomodar. Criterios Optimizaci�n (Objetivos) Dado que todas las restricciones blandas podr�n satisfacer problema del horario convierte compromiso donde hay que optimizar ciertos objetivos. t�rminos modelado, definimos una funci�n objetivo varias jerarquizadas) que mide "calidad" del horario. objetivo encontrar, entre todos los horarios factibles (que cumplen duras), aquel que maximiza satisfacci�n equivalentemente, minimiza las penalizaciones por incumplir las blandas. continuaci�n, resumen los criterios optimizaci�n principales, alineados con las restricciones blandas explicadas: Criterio Factibilidad Cobertura. condici�n previa cualquier proceso optimizaci�n obtenci�n horario factible. Esto implica que produzcan violaciones las restricciones duras que garantice cobertura �ntegra todas las sesiones requeridas. Este criterio puede interpretarse dos formas: (i) descartar manera estricta cualquier soluci�n factible, permitir soluciones inicialmente inviables, pero se�alando las incompatibilidades mediante advertencias para posterior correcci�n. Criterio Calidad del Horario del Profesorado. Este t�picamente conjunto objetivos blandos m�s importante. Incluye: Minimizar n�mero total huecos (ventanas) del profesorado. busca que n�mero medio huecos por profesor por d�a sea m�s bajo posible. Asimismo, minimizar m�ximo huecos que tenga cualquier profesor, n�mero profesores con alg�n hueco definitiva, reducir m�nimo los periodos vac�os jornada cada docente. Respetar preferencias individuales. Cada violaci�n una preferencia profesor (ya sea fuerte, media suave) contribuye "coste". Las violaciones preferencias fuertes idealmente deben ser cero alt�simo castigo ocurren), las medias con peso intermedio, las suaves con uno menor. objetivo incluye minimizar peso total preferencias satisfechas. Criterio Criterios Pedag�gicos Espec�ficos. Aqu� incluimos: Dispersi�n sesiones cada materia. Penalizar una asignatura aparece d�as contiguos para mismo grupo (violaci�n dispersi�n m�nima). Recompensar est�n distribuidas con d�as por medio cuando posible. siempre �ltima hora. Penalizar una materia �dif�cil� est� siempre �ltima franja grupo. Evitar sesiones inmediatamente post/ pre-recreo para ciertas materias. Si, por ejemplo, asignatura marc� con preferencia "no despu�s del recreo", penalizar coloca despu�s del recreo. mismo antes. Criterio Guardias [IM4] Cobertura guardias cumplida con holgura. hay margen, mejor poner profesor extra guardia que quedarse corto. Esto realidad duro (no puede estar corto), pero "holgura" puede ser blanda: necesario excederse, pero veces tener profesor guardia adicional (si est� libre) podr�a verse bien. combinaci�n criterios calidad puede abordarse diferentes formas formulaci�n del problema. Una opci�n cl�sica integrar todos los criterios una �nica funci�n objetivo mediante sistema ponderaciones, mientras que otra emplear esquema lexicogr�fico, estableciendo orden jer�rquico prioridades. Sin embargo, este contexto resulta especialmente relevante planteamiento biobjetivo, que priorizan manera simult�nea dos aspectos fundamentales: (i) satisfacci�n las preferencias horarias del profesorado, minimizaci�n los huecos jornada laboral. Bajo este enfoque, modelo busca generar horarios que, adem�s ser factibles, equilibren adecuadamente estas dos metas principales. M�todos como programaci�n por metas permiten establecer umbrales deseables (por ejemplo, �cumplir menos las preferencias docentes� �garantizar m�ximo hueco por d�a promedio�), tratando alcanzarlos forma conjunta. �ltima instancia, resultado �ptimo ser� aquel horario que, respetando todas las restricciones duras, maximice calidad global atendiendo estos dos criterios prioritarios para profesorado. Datos Entrada (Inputs) Necesarios Para poder generar horario con todas las consideraciones anteriores, necesario recopilar suministrar sistema una serie datos entrada completos. continuaci�n, enumeran todos los inputs que centro debe preparar que idealmente herramienta debe poder importar sistemas existentes, junto con ejemplos detalles relevantes: Listado asignaturas impartidas curso: Todas las materias que finalmente van ofrecer centro, tras proceso matriculaci�n. Esto incluye las obligatorias cada curso las optativas que centro decida impartir base las solicitudes alumnos. Ejemplo: Matem�ticas, Lengua, Ingl�s para ESO; F�sica, Qu�mica, Historia, etc., para Bachiller; M�dulos espec�ficos para FP; Optativas como Franc�s Cultura Cient�fica, etc. Cada asignatura vendr� con informaci�n como nombre posiblemente c�digo oficial curso cursos donde imparte, carga horaria semanal (n�mero sesiones por semana). Por ejemplo: "Matem�ticas 3�ESO horas semanales". Listado cursos grupos: Todos los grupos alumnos del centro que requieren horario. Por ejemplo: 1�ESO 1�ESO 4�ESO 4�ESO 1�BACH (Ciencias), 1�BACH (Humanidades), etc., hasta incluir Ciclos Formativos (1�FP Adm 2�FP Adm etc.) grupo Adultos (si considerase). Para cada grupo, puede indicar curso que pertenece, n�mero alumnos, aula referencia tiene una. Tambi�n participa alg�n programa especial (por ej., "3�ESO programa diversificaci�n"). Esto define estructura ense�anza que horario debe cubrir. Relaci�n asignaturas por grupo (matriz grupo-materia): Especifica qu� materias cursa cada grupo cu�ntas horas semanales cada una. Esto deriva del curr�culo: ej., 2�ESO Matem�ticas (4h), Lengua (4h), Ingl�s (3h), Educaci�n F�sica (2h), etc. Incluye optativas asignadas: por ejemplo, "2�BACH (Ciencias) cursa Dibujo T�cnico 4h, mientras 2�BACH (Hum) cursa Literatura 4h, ambos comparten Antropolog�a como optativa com�n". esta relaci�n obtiene lista "lecciones" pendientes programar cada par grupo-materia con horas genera eventos que hay que ubicar. Profesor asignado cada grupo-materia (asignaci�n docente): Para cada elemento matriz anterior (cada clase impartir), indicar qu� profesor imparte Por ejemplo: 2�ESO Matem�ticas (4h) profesora Garc�a; 2�ESO Ingl�s (3h) profesor L�pez, etc. algunos casos, profesor imparte misma materia m�s grupo (p. ej., mismo profe F�sica 1�BACH 1�BACH B). Esta asignaci�n normalmente realiza cada departamento equilibrando cargas, input crucial que algoritmo distribuye materias entre profesores, sino que recibe qui�n qu�. N�mero sesiones semanales por asignatura reglas distribuci�n: Para cada asignatura del centro (por curso), indicar n�mero horas semanales relevante, c�mo suelen distribuir semana. Por ejemplo: horas semanales sesi�n d�a d�as distintos"; horas semanales (FP) horas d�as (dobles)". Lista periodos (slots) disponibles: necesario definir con precisi�n los periodos temporales sobre los que construir� horario. nuestro caso, turno ma�ana comprende d�as lectivos (lunes viernes) con franjas horarias por d�a hora), que supone total slots semanales destinados clases guardias. Adicionalmente, debe considerarse media hora del recreo, que, aunque constituye periodo lectivo mismo, bloque temporal cr�tico, pues debe organizarse presencia n�mero m�nimo profesores guardia cada d�a. Por tanto, recreo integra planificaci�n como slot espec�fico para cobertura vigilancia, aunque aparezca los horarios clase del alumnado. conjunto, esta estructura temporal define malla base sobre que programan clases, guardias reuniones, constituye parte configuraci�n general del problema. Disponibilidades indisponibilidades horarias profesores: Esto recoge, para cada profesor, las franjas las que puede quiere trabajar. Pueden estar marcadas tres niveles (duras, medias, blandas). Por ejemplo: profesor Mart�nez est� disponible los mi�rcoles �ltima hora (quiz� porque tiene que recoger sus hijos del colegio), que esa ser�a una disponibilidad dura (no asigne nada ah�). profesora G�mez prefiere madrugar los lunes (preferencia media). profesor D�az tiene tratamientos m�dicos los martes indisponibilidad dura martes hora. Todas estas franjas prohibidas indeseadas por profesor deben volcar para que motor respete penalice seg�n corresponda. Tambi�n incluye los casos profesores que solo trabajan turno ma�ana tarde nuestro centro todos salvo los del grupo adulto trabajan ma�ana, pero uno fuera exclusivamente tarde, disponibilidad ma�ana ser�a nula (no asigna nada ma�ana). Preferencias/incompatibilidades por asignatura: Similar anterior, pero para las materias. Por ejemplo: "No impartir matem�ticas �ltima hora del d�a" (preferencia dura), "Educaci�n F�sica requiere que profesor tenga min extra para cambiarse, as� que antes del recreo mejor" (eso ser�a detalle fino). Cualquier restricci�n este tipo debe enumerar. las notas mencion� que posible que algunas asignaturas deban planificarse antes despu�s del recreo, sin concretar; esto sugiere que direcci�n podr�a marcar ciertas materias con preferencia horaria (por ejemplo, Educaci�n F�sica siempre hora tras recreo). existieran, incluir�an aqu� con nivel preferencia. N�mero guardias [IM5] por profesor por tipo: dato que suele decidir Jefatura funci�n las lectivas cada uno. debe especificar cu�ntas guardias pasillo tiene asignadas cada profesor, cu�ntas guardias recreo cu�ntas convivencia/otros (si aplica). Por ejemplo: Profesor guardias pasillo recreo; Profesor pasillo recreo; Profesor (jefe estudios) guardias porque est� exento, etc. Esta distribuci�n internamente suele hacerse intentando repartir esas horas lectivas: adem�s guardias, cuentan reuniones, tutor�a, etc. promedio, profesor con 18h lectivas tendr� guardias semanales (sumando tipos) porque las otras horas van reuniones otras tareas planificadas. Pero importante introducirlo tal cual quiere horario. Requisitos m�nimos guardias por franja: Indicar, para cada hora del d�a menos cada tipo franja), cu�ntos profesores guardia deben asignarse. Por ejemplo: hora: guardias pasillo; hora: guardias pasillo; recreo: guardias patio; etc." Esto puede venir normativa m�nimos, pero ajustado centro como vimos). Estos valores son usados por modelo para asegurarse cubrirlos. Listado reuniones con participantes: Especificar cada evento tipo reuni�n que deba programarse qui�nes asisten. nuestro caso: "Reuni�n Tutores participantes: todos los tutores curso Jefatura Orientador". hubiera reuni�n departamento: "Reuni�n Departamento Matem�ticas participantes: profesores (X, Cada reuni�n planificada horario lectivo evento ubicar que bloquea esos participantes. Listado aulas asignaci�n curso�materia�aula: Lista todas las aulas espacios disponibles centro, indicando sus caracter�sticas (capacidad, equipamiento, uso espec�fico) posibles indisponibilidades horarias. Ejemplo: �Laboratorio F�sica disponible martes hora (limpieza)� �Sala Usos M�ltiples ocupada lunes hora por acto semanal�. Adem�s, recoge asignaci�n previa cada asignatura grupo aula determinada, cuando sea fija. Por ejemplo: �Educaci�n F�sica 2�ESO Gimnasio�, �M�sica 1�ESO Aula M�sica�, �Biolog�a 4�ESO Laboratorio Ciencias�, �Aula general 3�ESO A3B�. Esta informaci�n considera dato entrada modifica planificaci�n: modelo �nicamente debe programar las sesiones tiempo respetando las aulas asignadas evitando solapamientos usos indebidos. Compatibilidades paralelismo (par�metros optativas/desdobles): Hay que introducir qu� asignaturas deben paralelas con cu�les. Esto podr�a ser una lista conjuntos: ej., "{Dibujo T�cnico 2�Bach Antropolog�a 2�Bach (mixto), Psicolog�a 2�Bach (mixto)} son simult�neas". "{�mbito Socioling��stico diversificaci�n, Matem�ticas 3�A, Lengua 3�B} simult�neas". Cada conjunto indica que esos eventos deben tener mismo horario. Nota: las cargas horarias difieren (4h �stas pueden dividir: ejemplo 2h+2h, partir�a dos sub-eventos 2h, a�ade una restricci�n para que esos sub-eventos coincidan entre s�, pero cada uno coincida con una las optativas correspondientes. Estos detalles traducen par�metros que algoritmo entienda para sincronizar horarios. resumen, herramienta necesita toda informaci�n acad�mica organizaci�n del centro antes poder calcular horario. pr�ctica, buena parte estos datos existen sistemas administrativos (p. ej., aplicaci�n S�neca Junta Andaluc�a contiene cat�logo asignaturas los datos profesores). Ser�a conveniente que herramienta horarios pudiera importar rellenar autom�ticamente muchos estos datos para ahorrar tiempo errores manuales. Por ejemplo, ser�a deseable que software pudiera: Importar cat�logo oficial asignaturas Consejer�a Educaci�n (con sus c�digos, descripciones horas) permitir centro simplemente seleccionar cu�les imparten. Importar lista profesores desde S�neca (el sistema gesti�n centros) con sus nombres, c�digos posible sus especialidades. Facilitar una interfaz para cargar las preferencias los profesores directamente herramienta, lugar tener que traducir formularios papel par�metros manualmente. Permitir igualmente cargar forma semiautom�tica asignaci�n materias profesores que los departamentos han decidido, quiz�s mediante plantillas extrayendo datos S�neca all� constan los profesores-tutores cada grupo/materia. Estos "deseos" sobre herramienta apuntan una mejor integraci�n con los sistemas existentes simplificar preproceso introducir datos. nuestro caso, asumiremos que introducido todo correctamente formato requerido. Con todos estos inputs, algoritmo puede construir modelo buscar mejor asignaci�n eventos slots. Resultados Esperados (Outputs) output principal del problema es, naturalmente, Horario completo para instituto que especifique qui�n (profesor), qu� (actividad), cu�ndo (d�a periodo) d�nde (aula) cada sesi�n. otras palabras, resultado asignaci�n cada evento (clase, guardia, reuni�n) espacio-tiempo concreto cumpliendo las restricciones. Este horario suele presentar varios formatos: Horario por grupo (alumnado): Para cada grupo alumnos, una tabla d�as horas indicando qu� asignatura tienen cada periodo, con qu� profesor qu� aula. Por ejemplo, horario 2�ESO podr�a mostrar Lunes Matem�ticas (Prof. Aula Lunes Ingl�s (Prof. Aula etc. Esto permite los alumnos saber qu� clase toca d�nde cada d�a. Horario individual cada profesor: Listando, para cada profesor, sus clases actividades por d�a/periodo. Ejemplo: Prof. Garc�a Lunes Matem�ticas 3�B, guardia pasillo, libre, Matem�ticas 2�A, libre, Matem�ticas 2�A; etc. aqu� profesor cu�ndo imparte clase, cu�ndo tiene guardia, reuniones, sus huecos. Listados guardias reuniones cubiertas: Por ejemplo, una tabla por d�a indicando qu� profesores est�n guardia cada hora, para comprobar que cubren los m�nimos. confirmaci�n que reuni�n tutores otras) qued� fijada tal d�a tal hora, con lista asistentes sin conflicto. Finalmente, output menos importante que horario generado sea exportable comunicable Ser�a deseable que soluci�n pudiera volcar sistema oficial (p. ej., exportar S�neca formato establecido, formato est�ndar como XHSTT/XML) para difusi�n registro oficial. Aunque esto m�s una funcionalidad herramienta que del modelo s�, vale pena mencionarlo: final, horario debe poder imprimirse, difundirse profesores/alumnos subirse las plataformas correspondientes. M�tricas Adem�s estos horarios formato humano, output puede incluir indicadores calidad m�tricas derivadas del horario final para evaluar c�mo bien cumplieron los criterios blandos. N�mero total huecos profesor promedio huecos por profesor. Listado profesores con m�s huecos (p.ej., "Profesor tiene huecos semanales, m�ximo"). Distribuci�n cargas cu�ntos profesores con 18h, con 19h, 20h, 21h clase. Cumplimiento preferencias cu�ntas preferencias duras profesores violaron (ideal cu�ntas medias satisfechas, etc. Uso �ltimas horas porcentaje profesores que logran libre viernes �ltima hora, etc. Uso espacios especiales por ejemplo, laboratorios utilizados del tiempo disponible. Balance guardias todos los profesores cumplen exactamente sus guardias asignadas, etc. Estas m�tricas sirven para justificar que horario "bueno" para detectar puntos mejora (p.ej., profesor qued� con muchos huecos, quiz� intercambiando alguna clase con otro podr�a arreglar, etc.). pr�ctica, como algoritmo iterativo persigui� minimizar huecos, horario seleccionado ser� que optimiza esas m�tricas centrales. Anexo: Formulaci�n Matem�tica del Modelo Horarios este documento, como complemento, proporciona continuaci�n modelo matem�tico resumido del problema, que formaliza muchas las entidades, par�metros, variables restricciones descritas. Este modelo sirve base para implementar soluci�n computacional (por ejemplo, solver Programaci�n Lineal Entera Mixta) garantizar que cumplen todos los requisitos. Cabe mencionar que, dada complejidad, veces recurre resolver problema dos fases con heur�sticas, pero modelo completo ilustra est�ndar que apuntamos. continuaci�n, presenta forma resumida una formulaci�n matem�tica del problema horarios del instituto como modelo Programaci�n Lineal Entera (ILP). Esta formulaci�n define los conjuntos par�metros variables decisi�n restricciones principales, siguiendo l�gica expuesta las secciones anteriores. utilizar� notaci�n LaTeX incrustada l�nea texto, sino que describir� formato entendible que puede transcribirse documento (.docx) con las ecuaciones correspondientes. Conjuntos �ndices: Conjunto profesores Conjunto grupos alumnos Conjunto materias (asignaturas) Conjunto aulas (recursos espaciales) Conjunto d�as semana Lunes Viernes Conjunto horas por d�a (periodos nuestro caso). Conjunto slots tiempo (parejas d�a-hora). Alternativamente, indexaremos periodo �nico combinamos d�a hora solo �ndice Conjunto lecciones requeridas programar. Cada lecci�n representa evento clase grupo una materia que debe ser ubicado. Por ejemplo, 3�A tiene horas Matem�ticas, eso genera lecciones (podemos enumerarlas Tambi�n habr� lecciones correspondientes guardias reuniones, las modelamos forma similar conjuntos separados, ver abajo). Para simplificar, consideramos dos tipos eventos: lecciones acad�micas (grupo-materia con profesor asignado) eventos acad�micos (guardias, reuniones). Podr�amos extender para contener todos, diferenciando por tipos. Par�metros: N�mero sesiones semanales requeridas para clase general ser� porque cada una sesi�n �nica, pero este par�metro usa modelamos agrupado (aqu� asumiremos cada sesi�n). Profesor asignado lecci�n (para clases lectivas). Para guardias, ser�a profesor quien corresponde esa guardia. Para reuniones, este modelo requerir�a manejar m�ltiples profesores por evento, cual suele modelar con restricciones especiales m�s que con solo �ndice; aqu� omitiremos reuniones formulaci�n formal por simplicidad. Grupo alumnos que pertenece lecci�n (si aplica; para guardias hay grupo, para reuniones tampoco solo grupo). Materia impartida lecci�n (aplica solo clases). Indica lecci�n requiere tipo espec�fico aula aula particular. Podr�a ser subconjunto permitido. Por ejemplo, una clase F�sica podr�a requerir Duraci�n periodos lecci�n Normalmente tuvi�ramos sesiones dobles predefinidas, podr�a ser para esas. Disponibilidad del profesor slot profesor puede trabajar ese periodo, puede (indisponibilidad dura). Esto incorporar�a, por ejemplo, que para profe con itinerancia otro centro ese d�a/hora. N�mero m�nimo profesores guardia requeridos slot (si una hora lectiva). Tipo slot (ej: corresponde recreo, primera hora, �ltima hora, etc., para aplicar ciertas reglas). N�mero total guardias que profesor debe cubrir semana (sumando todos los tipos). Podr�amos refinar con por tipo. Penalizaci�n (peso) por asignar profesor una clase slot que quer�a evitar. Este peso alto hab�a marcado como preferencia fuerte trabajar, menor era media, etc. Peso penalizaci�n por cada hueco horario profesor (utilizado objetivo). Peso por clases horas extremas indeseadas. Peso por violaci�n dispersi�n (p.ej., misma materia dos d�as seguidos). (En general, representar�a distintos pesos para cada criterio blando funci�n objetivo). Variables Decisi�n: variable principal asignaci�n lecciones slots, posiblemente tambi�n aulas: vale lecci�n programa slot tiempo aula caso contrario. Esta una variable binaria t�pica para asignar eventos tiempos lugares simult�neamente. Dado que nuestro problema cada lecci�n tiene profesor grupo asociados, esta variable cubre indirectamente qui�n ense�a qui�n, tal slot aula. preferimos descomponer dos fases (primero horarios ignorando aulas, luego asignar aulas), podemos usar variables para lecci�n slot (ignorando aula), luego variables para asignar aula cada lecci�n. Pero aqu� presentaremos versi�n integrada para mayor claridad. Tambi�n podemos define variables auxiliares para c�lculos huecos, etc., aunque son estrictamente necesarias formulaci�n b�sica: n�mero huecos horario del profesor d�a (entero, puede ser calculado con otras variables). indicadores profesor trabaja primera �ltima hora del d�a etc., queremos modelar expl�citamente ciertas medidas para funci�n objetivo. Restricciones Duras (Modelo): Asignaci�n �nica cada lecci�n: Cada lecci�n debe ser asignada exactamente slot aula). Esto garantiza que cada sesi�n requerida ocurre �nico periodo. (Si usamos ser�a colisi�n profesor: profesor puede tener dos eventos vez. Dado que cada lecci�n tiene imponemos que para cada profesor cada slot decir, contando todas las lecciones cuyo profesor asignadas mismo tiempo sumo (no puede dar m�s una clase vez). colisi�n grupo: Similarmente, cada grupo alumnos solo puede tener una clase vez. Para cada grupo slot Por ejemplo, 2�A puede tener dos asignaturas mismo momento. Capacidad aula (una clase por aula por slot): Para cada aula slot sea, cada aula aloja sumo una lecci�n cada periodo. (En caso excepciones como gimnasio con grupos vez, podr�a modelar gimnasio como dos recursos diferentes ajustar este constraint para esa aula particular permitiendo cuando Pero habitual Compatibilidad aula-materia: una lecci�n requiere tipo espec�fico aula, debemos forzar que solo asigne esas. Por ejemplo: Esto garantiza que F�sica necesita laboratorio, coloquemos Aula normal. requisito �nico aula, b�sicamente lecci�n solo podr� usar esa asignaci�n. Disponibilidad profesores grupos: profesor grupo est� disponible cierto slot (p. ej., profesor itinerante, grupo proyecto, etc.), puede asignar nada. Para profesores: esto fuerza para cualquier lecci�n ese profesor Para grupos ser�a an�logo hay slots disponibles (no suele aplicarse salvo actividades extraescolares puntuales). Cobertura guardias m�nima: Para cada slot que corresponde periodo lectivo recreo donde requieran guardias: Esta restricci�n poco conceptual porque guardia sugiere que definimos lecciones guardia preubicadas, cual as�. Alternativamente, debemos crear variables guardia: por ejemplo, para cada profesor slot, una variable que est� guardia Otra forma: consideramos una "lecci�n guardia" para cada profesor para cada guardia que debe hacer, sin predeterminar cu�ndo. Entonces lecci�n "guardia". Estas lecciones guardia compiten por slots como las dem�s. Entonces restricci�n convierte en: (donde indica que igual aula; hecho podr�amos omitir aula for guardia use dummy aula "NA"). Esto asegura que asignen suficientes guardias cada hora. Adicionalmente, cada profesor tendr� n�mero lecciones "guardia" igual por restricci�n cada una cae slot distinto, as� garantiza que cumple exactamente sus guardias. L�mites horas lectivas por profesor: Sumando todas las clases asignadas profesor donde ser�a tiene reducci�n) ser�a menor reducci�n). Esto obliga que profesor tenga entre clases programadas semana. nuestro modelo, esto pr�cticamente cumple por construcci�n (porque tiene las clases asignadas cada profe; profe ten�a menos lecciones podr�amos crear m�s desde solver). realidad, los departamentos asignan pensando As� que esta restricci�n m�s chequeo: dataset entrada, cada profe tendr� n�mero clases asignadas. alguno llega porque tiene reducci�n; pasa dataset inv�lido. Entonces esta restricci�n debe ser compatible con input. L�mite diario clases por profesor: Para cada profesor d�a (Sumando todas las clases los slots ese d�a para Esto garantiza que imparte m�s clases ese d�a. An�logamente, podr�amos limitar guardias diarias incorporar las guardias cuenta total: clases guardias periodos m�ximos, pero eso cumple separadamente con Secuenciaci�n (no dobles ESO/Bach): Para cualquier grupo materia que permita sesiones dobles, asegurar que dos lecciones para caigan slots consecutivos del mismo d�a. Esto requiere una restricci�n: son dos lecciones distintas misma materia, entonces para cada d�a hora Esto evita que est� (d�a hora (d�a hora h+1). ambas fueran significar�a doble seguido, restricci�n proh�be. Para podr�amos imponer esto directamente parametrizar esas materias esta restricci�n). Paralelismo obligatorio: cierto conjunto lecciones debe impartirse simult�neamente (optativas paralelo, etc.), entonces para cada par Esto b�sicamente fuerza que una est� las dem�s tambi�n pr�ctica, m�s sencillo: asignamos mismo "id paralelo" creamos una variable com�n para slot. Pero siguiendo esta idea, final resultan todas todas para cada restricci�n asignaci�n �nica combinada con esta har� que efectivamente todas elijan mismo Adicionalmente, hay una lecci�n que fue dividida (la hecha hay que prohibir que sus dos sub-lecciones vayan mismo d�a/hora: similar dobles, pero entre esas subpartes. cubrimos conceptualmente con secuenciaci�n, pero enfatizar: las dos sublecciones Dibujo T�cnico (4h) pueden coincidir juntas; hecho, pueden ser mismo d�a contiguo (pues entonces casi como seguidas). Probablemente con restricci�n general dobles coinciden misma jornada, porque contar�a como consecutivas son seguidas, pero cayeran lunes lunes son consecutivas pero mismas d�a. Eso quiz�s prohibido duramente, solo blandamente "mejor d�as distintos". omitimos como duro. Restricciones blandas (como penalizaciones objetivo): las pondremos todas como restricciones (que ser�an duras), sino que las incorporamos funci�n objetivo mediante penalizaciones. Mencionamos algunas claves c�mo modelan: Huecos profesor: puede introducir variable binaria que vale profesor tiene hueco periodo del d�a no. directamente calcular hueco ocurre trabaja alguna hora antes alguna hora despu�s pero est� libre. Eso requiere condiciones l�gicas complejas, m�s f�cil con aproximaciones. Supongamos calculamos posteriori, penalizamos "ventanas" definidas como espacios libres entre clases para cada profesor. Por simplicidad, penalizaremos cualquier par clases contiguas dejando hueco, etc. Mejor: Minimizar donde (n�mero huecos del d�a). Este relaciona con por ejemplo, prof tiene clases periodos del d�a (ordenadas), entonces undefined decir, rango que abarca desde primera �ltima clase, menos n�mero clases, los huecos intermedios. Podemos deducir primera �ltima clase con variables inicia jornada termina entraremos detalle, solo sabemos que puede modelar penalizar. Preferencias horarios: profesor ten�a una preferencia dar clase slot podemos pre-calcular viol�: b�sicamente tiene algo contra preferencia. Esto equivale las variables sus lecciones: tomando valor significa est� ocupado Podr�amos multiplicar eso por sumar objetivo. Primera/ �ltima horas Similar preferencias, penaliza profesor tiene clase primera �ltima hora m�s all� cierto l�mite. P.ej., penalizar cada asignaci�n �ltima hora viernes, cada asignaci�n primera hora lunes, etc., con peso. Dispersi�n materia: Penalizar para cada grupo-materia cada par clases d�as consecutivos. Esto implementa: para lecciones misma materia grupo, est� lunes martes, a�adir penalizaci�n Esto requiere introducir variables indicadoras directamente sumarlo objetivo via combinaciones (nonlinear directly). Alternativamente, precompute all undesired pairs slots (d�as contiguos) and ensure add something those both happen. That can linearized. We'll not detail linearization here. Guardias consecutivas equidad: Penalizar profesor tiene dos guardias seguidas: esto detecta for guard events that prof consecutive slots. Could linearize similarly double classes but soft Balance carga: Minimizar m�ximo descontento: that's min- max objective often converted linear introducing new variable and constraints use weighted sum approximate fairness Funci�n Objetivo: definitiva, funci�n objetivo podr�a ser algo como: Minimizar (donde usado notaci�n multiplicativa para indicar que habr�a que linearizar esas interacciones). Esta funci�n objetivo una suma ponderada penalizaciones: huecos, preferencias respetadas, clases horas extremas, materias concentradas, guardias seguidas, etc. Minimizar significa conseguir horario con menos "coste" blando, decir, m�s acorde las preferencias criterios deseados. Nota: modelo anterior esquem�tico. implementaci�n real, pueden introducir mejoras eficiencia (p. ej., separar asignaci�n aulas subproblema, usar variables continuas para penalizaciones vez binary expansions etc.). Tambi�n, como apuntan investigaciones, este problema High School Timetabling versi�n general (XHSTT) suele resolver con modelos a�n m�s elaborados descomposici�n debido complejidad. Sin embargo, formulaci�n aqu� expuesta suficiente para capturar mayor�a restricciones instituto t�pico espa�ol podr�a resolverse con solver exacto instancias tama�o moderado. conclusi�n, esta especificaci�n DERCIOM cubierto todos los aspectos del problema horarios: descripci�n del contexto objetivos, definici�n entidades involucradas, listado restricciones duras indispensables, identificaci�n restricciones blandas criterios optimizaci�n, requisitos datos entrada, resultados esperados, anexo con formalizaci�n matem�tica del modelo. Con todo ello, dispone una comprensi�n integral del "problema del instituto" que servir� base para desarrollar implementar herramienta Smartiming otra soluci�n optimizaci�n horarios este entorno educativo. [IM1] Nos hemos quedado aqu� revisi�n con Alfredo [IM2] Preguntar Paco [IM3] establece m�nimo guardias recreo pasillo para los profesores (por separado)? [IM4] tengo claro las guardias que tienen que hacer los profesores semana est�n definidas, sistema tiene que hacer reparto tal forma que cubran las horas que tienen que hacer guardias semana. [IM5] Igualmente, hay que preguntar estos datos est�n fijos hay holgura hora hacer asignaci�n guardias.
